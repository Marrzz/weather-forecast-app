image: maven:3.8.4-jdk-11

build:
  stage: build
  script:
    - mvn compile

test:
  stage: test
  rules:
    -if: '$CI_COMMIT_BRANCH == "main"'
  script:
    - mvn clean test

